Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
.............................................++++
.......++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 14:49:48 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
................++++
........................................................................................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 14:56:52 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
......................................................................................++++
......................................................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 15:04:53 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
...........................................++++
............................................................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 15:10:46 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
.........++++
......................................................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 15:18:54 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
...................................++++
......................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 15:22:58 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
.................++++
....................................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 15:35:24 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
error: timed out waiting for the condition on namespaces/connaisseur
make: *** [Makefile:31: uninstall] Error 1
Failed to uninstall Connaisseur
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
...................++++
..++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 15:38:47 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
.....................................................................++++
.......................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 15:47:18 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
...........................++++
..................................................................................................................................................................................................................................................................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 15:56:22 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
error: timed out waiting for the condition on namespaces/connaisseur
make: *** [Makefile:31: uninstall] Error 1
Failed to uninstall Connaisseur
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
...........................................................................................................................................................++++
.............................................................................................................................................................................................................................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 16:04:18 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
error: timed out waiting for the condition on namespaces/connaisseur
make: *** [Makefile:31: uninstall] Error 1
Failed to uninstall Connaisseur
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
................................................................................++++
.....................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 16:11:33 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
............................................................................................................................................................++++
............................................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 16:14:46 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
........++++
........................................................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 16:25:47 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
....................................................................................................................++++
.................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 16:32:48 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
....................................................................................................................++++
.............................................................................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 16:37:18 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Failed to deny unsigned image or failed with unexpected error. Output:
Error from server (InternalError): Internal error occurred: failed calling webhook "connaisseur-svc.connaisseur.svc": Post "https://connaisseur-svc.connaisseur.svc:443/mutate?timeout=30s": net/http: request canceled while waiting for connection (Client.Timeout exceeded while awaiting headers)
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
..................................................................++++
......................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 16:44:48 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
.......................................................................................................................................++++
.....................................................................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 16:56:30 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
......................................................++++
........++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 17:04:36 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
................................................................................................................................++++
.......................................................................................................................................................................................................................................................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 17:09:28 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
error: timed out waiting for the condition on namespaces/connaisseur
make: *** [Makefile:31: uninstall] Error 1
Failed to uninstall Connaisseur
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
........................................................++++
................................................................................................................................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 17:19:56 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
................................++++
.........................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 17:27:26 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Allowed an unsigned image via init container or failed due to an unexpected error handling init containers. Output:
Error from server (InternalError): error when creating "connaisseur/tests/integration/valid_container_with_unsigned_init_container_image.yml": Internal error occurred: failed calling webhook "connaisseur-svc.connaisseur.svc": Post "https://connaisseur-svc.connaisseur.svc:443/mutate?timeout=30s": context deadline exceeded (Client.Timeout exceeded while awaiting headers)
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
............................................................................................++++
.......................................................................................................................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 17:37:37 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
.............................++++
............................................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 17:43:33 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
....................................++++
...........................................................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 17:53:57 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
.....................................................++++
.............................................................................................................................................................................................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 17:59:11 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
...........................................++++
...........................................................................................................................................................................................................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 18:06:50 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
...............................................++++
............................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 18:16:09 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
....................++++
...............................................................................................................................................................................................................................................................................................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 18:18:27 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
.................................................................................................................................++++
............................................................................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 18:31:35 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
.........................................................................................................................................................................................................++++
...............................................................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 18:40:18 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
error: timed out waiting for the condition on namespaces/connaisseur
make: *** [Makefile:31: uninstall] Error 1
Failed to uninstall Connaisseur
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
............................................................................................................................................................................................................................................................++++
.................................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 18:46:15 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
..++++
.......................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 18:56:38 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
..........++++
...........................................................................................................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 19:04:16 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
...................................................................................................++++
........................................................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 19:06:36 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
.........................................................++++
.........................................................................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 19:14:34 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
..............................................................................................................................++++
....................................................................................................................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 19:23:02 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
............................................................................................................++++
.................................................................................................................................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 19:35:07 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
.....++++
....................................................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 19:40:46 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
............................................................................................................................................................................++++
............................................................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 19:49:15 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
......................................................++++
.++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 19:59:16 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
....................................................++++
........++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 20:01:25 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
.......................................++++
...............................................................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 20:11:06 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
.......................................++++
........................................................................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 20:21:45 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
...........................................................................................................................................++++
...................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 20:29:45 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
..........................................................................................................................................................................................................................++++
........................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 20:31:56 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
.......++++
.......................................................................................................................................................................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 20:41:55 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
.......++++
.....................................................................................................................................................................................................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 20:51:15 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
................................................................................................................................................................................++++
.................................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 20:59:47 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
Preparing Connaisseur config...
Config set
Installing Connaisseur...
bash helm/certs/gen_certs.sh
Generating RSA private key, 4096 bit long modulus (2 primes)
.............++++
.....................................................................................................++++
e is 65537 (0x010001)
Signature ok
subject=CN = connaisseur-svc.connaisseur.svc
Getting Private key
kubectl create ns connaisseur || true
namespace/connaisseur created
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
#
#=============================================
#
# The installation may last up to 5 minutes.
#
#=============================================
#
helm install connaisseur helm --atomic
NAME: connaisseur
LAST DEPLOYED: Fri May 14 21:10:07 2021
NAMESPACE: connaisseur
STATUS: deployed
REVISION: 1
TEST SUITE: None
Successfully installed Connaisseur
Testing unsigned image...
Successfully denied usage of unsigned image
Testing image signed under different key...
Successfully denied usage of image signed under different key
Testing signed image...
Successfully allowed usage of signed image
Testing deployment of unsigned init container along with a valid container...
Successfully denied unsigned image in init container
Uninstalling Connaisseur...
kubectl config set-context --current --namespace connaisseur
Context "kind-kind" modified.
helm uninstall connaisseur
release "connaisseur" uninstalled
kubectl delete ns connaisseur --timeout=120s
namespace "connaisseur" deleted
Successfully uninstalled Connaisseur
Passed integration test
